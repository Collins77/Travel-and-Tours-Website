{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\user\\\\Desktop\\\\Halmash Website\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Halmash Website\\\\frontend\\\\src\\\\context\\\\AuthContext.js\";\nimport { createContext, useEffect, useReducer } from \"react\";\nvar initial_state = {\n  user: localStorage.getItem('user') !== undefined ? JSON.parse(localStorage.getItem(\"user\")) : null,\n  loading: false,\n  error: null\n};\nexport var AuthContext = createContext(initial_state);\nvar AuthReducer = function AuthReducer(state, action) {\n  switch (action.type) {\n    case \"LOGIN_START\":\n      return {\n        user: null,\n        loading: false,\n        error: null\n      };\n    case 'LOGIN_SUCCESS':\n      return {\n        user: action.payload,\n        loading: false,\n        error: null\n      };\n    case 'LOGIN_FAILURE':\n      return {\n        user: null,\n        loading: false,\n        error: action\n      };\n    case 'REGISTER_SUCCESS':\n      return {\n        user: null,\n        loading: false,\n        error: null\n      };\n    case 'LOGOUT':\n      return {\n        user: null,\n        loading: false,\n        error: null\n      };\n    default:\n      return state;\n  }\n};\nexport var AuthContextProvider = function AuthContextProvider(_ref) {\n  var children = _ref.children;\n  var _useReducer = useReducer(AuthReducer, initial_state),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    state = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  useEffect(function () {\n    localStorage.setItem('user', JSON.stringify(state.user));\n  }, [state.user]);\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: {\n      user: state.user,\n      loading: state.loading,\n      error: state.error,\n      dispatch: dispatch\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 12\n    }\n  }, children);\n};","map":{"version":3,"names":["createContext","useEffect","useReducer","initial_state","user","localStorage","getItem","undefined","JSON","parse","loading","error","AuthContext","AuthReducer","state","action","type","payload","AuthContextProvider","children","dispatch","setItem","stringify"],"sources":["C:/Users/user/Desktop/Halmash Website/frontend/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useEffect, useReducer } from \"react\";\r\n\r\nconst initial_state = {\r\n    user: localStorage.getItem('user') !== undefined \r\n    ? JSON.parse(localStorage.getItem(\"user\")): null,\r\n    loading: false,\r\n    error: null,\r\n}\r\n\r\nexport const AuthContext = createContext(initial_state)\r\n\r\nconst AuthReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"LOGIN_START\":\r\n            return {\r\n                user: null,\r\n                loading: false,\r\n                error: null,\r\n            }\r\n        case 'LOGIN_SUCCESS':\r\n            return{\r\n                user: action.payload,\r\n                loading: false,\r\n                error: null,\r\n            }\r\n        case 'LOGIN_FAILURE':\r\n            return{\r\n                user: null,\r\n                loading: false,\r\n                error: action,\r\n            }\r\n\r\n        case 'REGISTER_SUCCESS':\r\n            return{\r\n                user: null,\r\n                loading: false,\r\n                error: null,\r\n            }\r\n        case 'LOGOUT':\r\n            return{\r\n                user: null,\r\n                loading: false,\r\n                error: null,\r\n            }\r\n        \r\n        default :\r\n        return state\r\n    }\r\n}\r\n\r\nexport const AuthContextProvider = ({children}) => {\r\n    const [state, dispatch] = useReducer(AuthReducer, initial_state)\r\n\r\n    useEffect(()=>{\r\n        localStorage.setItem('user', JSON.stringify(state.user))\r\n    },[state.user])\r\n\r\n    return <AuthContext.Provider value={{\r\n        user:state.user,\r\n        loading: state.loading,\r\n        error: state.error,\r\n        dispatch\r\n    }}>\r\n        {children}\r\n    </AuthContext.Provider>\r\n}"],"mappings":";;;AAAA,SAASA,aAAa,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAE5D,IAAMC,aAAa,GAAG;EAClBC,IAAI,EAAEC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,KAAKC,SAAS,GAC9CC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,GAAE,IAAI;EAChDI,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACX,CAAC;AAED,OAAO,IAAMC,WAAW,GAAGZ,aAAa,CAACG,aAAa,CAAC;AAEvD,IAAMU,WAAW,GAAG,SAAdA,WAAW,CAAIC,KAAK,EAAEC,MAAM,EAAK;EACnC,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,aAAa;MACd,OAAO;QACHZ,IAAI,EAAE,IAAI;QACVM,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACX,CAAC;IACL,KAAK,eAAe;MAChB,OAAM;QACFP,IAAI,EAAEW,MAAM,CAACE,OAAO;QACpBP,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACX,CAAC;IACL,KAAK,eAAe;MAChB,OAAM;QACFP,IAAI,EAAE,IAAI;QACVM,OAAO,EAAE,KAAK;QACdC,KAAK,EAAEI;MACX,CAAC;IAEL,KAAK,kBAAkB;MACnB,OAAM;QACFX,IAAI,EAAE,IAAI;QACVM,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACX,CAAC;IACL,KAAK,QAAQ;MACT,OAAM;QACFP,IAAI,EAAE,IAAI;QACVM,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACX,CAAC;IAEL;MACA,OAAOG,KAAK;EAAA;AAEpB,CAAC;AAED,OAAO,IAAMI,mBAAmB,GAAG,SAAtBA,mBAAmB,OAAmB;EAAA,IAAdC,QAAQ,QAARA,QAAQ;EAAA,kBACfjB,UAAU,CAACW,WAAW,EAAEV,aAAa,CAAC;IAAA;IAAzDW,KAAK;IAAEM,QAAQ;EAEtBnB,SAAS,CAAC,YAAI;IACVI,YAAY,CAACgB,OAAO,CAAC,MAAM,EAAEb,IAAI,CAACc,SAAS,CAACR,KAAK,CAACV,IAAI,CAAC,CAAC;EAC5D,CAAC,EAAC,CAACU,KAAK,CAACV,IAAI,CAAC,CAAC;EAEf,oBAAO,oBAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE;MAChCA,IAAI,EAACU,KAAK,CAACV,IAAI;MACfM,OAAO,EAAEI,KAAK,CAACJ,OAAO;MACtBC,KAAK,EAAEG,KAAK,CAACH,KAAK;MAClBS,QAAQ,EAARA;IACJ,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACGD,QAAQ,CACU;AAC3B,CAAC"},"metadata":{},"sourceType":"module"}